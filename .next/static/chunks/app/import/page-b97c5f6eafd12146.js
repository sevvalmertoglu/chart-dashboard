(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[322],{42396:(e,a,s)=>{Promise.resolve().then(s.bind(s,67503))},67503:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>o});var r=s(95155),l=s(12115),t=s(41046),i=s(60408),n=s.n(i),d=s(6874),c=s.n(d);function o(){let[e,a]=(0,l.useState)(!1),[s,i]=(0,l.useState)(""),[d,o]=(0,l.useState)(""),m=(0,l.useCallback)(async e=>{let s=e[0];if(s){a(!0),i(""),o("");try{let e=await s.text(),a=n().parse(e,{header:!0});if(!(await fetch("/api/import",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:a.data})})).ok)throw Error("Veri y\xfckleme başarısız oldu");o("Veriler başarıyla y\xfcklendi!")}catch(e){i(e instanceof Error?e.message:"Bir hata oluştu")}finally{a(!1)}}},[]),{getRootProps:x,getInputProps:h,isDragActive:u}=(0,t.VB)({onDrop:m,accept:{"text/csv":[".csv"]},maxFiles:1});return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50 p-8",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold",children:"CSV Veri İ\xe7e Aktarma"}),(0,r.jsx)(c(),{href:"/",className:"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg transition-colors",children:"Dashboard'a D\xf6n"})]}),(0,r.jsxs)("div",{...x(),className:"\n          p-8 border-2 border-dashed rounded-lg text-center cursor-pointer\n          ".concat(u?"border-blue-500 bg-blue-50":"border-gray-300","\n          hover:border-blue-500 hover:bg-blue-50 transition-colors\n        "),children:[(0,r.jsx)("input",{...h()}),e?(0,r.jsx)("p",{className:"text-gray-600",children:"Y\xfckleniyor..."}):u?(0,r.jsx)("p",{className:"text-blue-500",children:"Dosyayı buraya bırakın"}):(0,r.jsx)("p",{className:"text-gray-500",children:"CSV dosyasını s\xfcr\xfckleyip bırakın veya se\xe7mek i\xe7in tıklayın"})]}),s&&(0,r.jsx)("div",{className:"mt-4 p-4 bg-red-100 text-red-700 rounded",children:s}),d&&(0,r.jsx)("div",{className:"mt-4 p-4 bg-green-100 text-green-700 rounded",children:d}),(0,r.jsxs)("div",{className:"mt-8",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"CSV Formatı"}),(0,r.jsx)("p",{className:"text-gray-600 mb-2",children:"CSV dosyanız aşağıdaki s\xfctunları i\xe7ermelidir:"}),(0,r.jsxs)("ul",{className:"list-disc list-inside text-gray-600 mb-4",children:[(0,r.jsx)("li",{children:"date (YYYY-MM-DD formatında)"}),(0,r.jsx)("li",{children:"sales_amount (sayısal değer)"}),(0,r.jsx)("li",{children:"profit (sayısal değer)"}),(0,r.jsx)("li",{children:"fuelType (Diesel, Ad Blue, Super E5, Super E10)"}),(0,r.jsx)("li",{children:"tankId (metin)"}),(0,r.jsx)("li",{children:"malfunctionCount (sayısal değer)"}),(0,r.jsx)("li",{children:"fill_rate (0-100 arası sayısal değer)"})]}),(0,r.jsxs)("div",{className:"bg-gray-100 p-4 rounded",children:[(0,r.jsx)("h3",{className:"text-lg font-medium mb-2",children:"\xd6rnek CSV i\xe7eriği:"}),(0,r.jsx)("pre",{className:"text-sm text-gray-700 overflow-x-auto",children:"date,sales_amount,profit,fuelType,tankId,malfunctionCount,fill_rate 2024-03-27,1000.50,150.75,Diesel,Tank1,0,75 2024-03-27,500.25,75.50,Ad Blue,Tank2,1,45 2024-03-27,750.00,112.50,Super E5,Tank3,0,60 2024-03-27,1250.75,187.60,Super E10,Tank4,2,85"})]})]})]})}}},e=>{var a=a=>e(e.s=a);e.O(0,[836,91,441,684,358],()=>a(42396)),_N_E=e.O()}]);